"use strict";(self.webpackChunkhydra_head_protocol_docs=self.webpackChunkhydra_head_protocol_docs||[]).push([[387],{3905:(e,t,n)=>{n.d(t,{Zo:()=>x,kt:()=>y});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),f=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},x=function(e){var t=f(e.components);return i.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},h=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,x=r(e,["components","mdxType","originalType","parentName"]),m=f(n),h=a,y=m["".concat(s,".").concat(h)]||m[h]||c[h]||o;return n?i.createElement(y,l(l({ref:t},x),{},{components:n})):i.createElement(y,l({ref:t},x))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=h;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[m]="string"==typeof e?e:a,l[1]=r;for(var f=2;f<o;f++)l[f]=n[f];return i.createElement.apply(null,l)}return i.createElement.apply(null,n)}h.displayName="MDXCreateElement"},84297:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>Si,contentTitle:()=>pi,default:()=>ki,frontMatter:()=>gi,metadata:()=>Fi,toc:()=>Ei});var i,a,o,l,r,s,f,x,m,c,h,y,d,g,p,F,S,E,z,L,k,u,b,W,v,w,N,H,C,T,O,P,M,A,D,j,B,_,I,R,q,J,U,X,Z,$,G,K,Q,V,Y,ee,te,ne,ie,ae,oe,le,re,se,fe,xe,me,ce,he,ye,de,ge,pe,Fe,Se,Ee,ze,Le,ke,ue,be,We,ve,we,Ne,He,Ce,Te,Oe,Pe,Me,Ae,De,je,Be,_e,Ie,Re,qe,Je,Ue,Xe,Ze,$e,Ge,Ke,Qe,Ve,Ye,et,tt,nt,it,at,ot,lt,rt,st,ft,xt,mt,ct,ht,yt,dt,gt,pt,Ft,St,Et,zt,Lt,kt,ut,bt,Wt,vt,wt,Nt,Ht,Ct,Tt,Ot,Pt,Mt,At,Dt,jt,Bt,_t,It,Rt,qt,Jt,Ut,Xt,Zt,$t,Gt,Kt,Qt,Vt,Yt,en,tn,nn,an,on,ln,rn,sn,fn,xn,mn,cn,hn,yn,dn,gn,pn,Fn,Sn,En,zn,Ln,kn,un,bn,Wn,vn,wn,Nn,Hn,Cn,Tn,On,Pn,Mn,An,Dn,jn,Bn,_n,In,Rn,qn,Jn,Un,Xn,Zn,$n,Gn,Kn,Qn,Vn,Yn,ei,ti,ni,ii,ai,oi,li,ri,si,fi,xi,mi=n(87462),ci=n(67294),hi=n(3905);function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},yi.apply(this,arguments)}const di=e=>{let{title:t,titleId:n,...mi}=e;return ci.createElement("svg",yi({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:843,preserveAspectRatio:"none",style:{width:1501,height:843,background:"#fff"},viewBox:"0 0 1501 843",width:1501,"aria-labelledby":n},mi),t?ci.createElement("title",{id:n},t):null,i||(i=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,fontWeight:"bold",textLength:151,x:668.25,y:22.995},"Hydra Components")),ci.createElement("rect",{fill:"none",height:571.71,rx:2.5,ry:2.5,style:{stroke:"#444",strokeWidth:1,strokeDasharray:"7,7"},width:927,x:309,y:44.297}),a||(a=ci.createElement("text",{fill:"#444",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:103,x:721,y:81.148},"Hydra Node")),o||(o=ci.createElement("text",{fill:"#444",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:78,x:733.5,y:96.061},"[container]")),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Persistence.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:115.453,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:219,x:430.5,y:115.297}),l||(l=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:497.5,y:136.435},"\xabcomponent\xbb")),r||(r=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:106,x:487,y:154.117},"Persistence")),s||(s=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:58,x:511,y:169.029},"[JSON/FS]")),f||(f=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:538,y:184.855})),x||(x=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:55,x:440.5,y:201.151},"Persists")),m||(m=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:495.5,y:201.151})),c||(c=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:499.5,y:201.151},"state")),h||(h=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:534.5,y:201.151})),y||(y=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:13,x:538.5,y:201.151},"of")),d||(d=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:551.5,y:201.151})),g||(g=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:23,x:555.5,y:201.151},"the")),p||(p=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:578.5,y:201.151})),F||(F=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:582.5,y:201.151},"head")),S||(S=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:617.5,y:201.151})),E||(E=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:18,x:621.5,y:201.151},"on")),z||(z=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:28,x:526,y:217.448},"disk"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/HeadLogic.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:219,x:658.5,y:291.747}),L||(L=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:725.5,y:312.885},"\xabcomponent\xbb")),k||(k=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:44,x:720,y:330.567},"Head")),u||(u=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:764,y:330.567})),b||(b=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:770,y:330.567},"Logic")),W||(W=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:766,y:347.336})),v||(v=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:668.5,y:363.633},"Maintains")),w||(w=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:733.5,y:363.633})),N||(N=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:51,x:737.5,y:363.633},"internal")),H||(H=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:788.5,y:363.633})),C||(C=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:792.5,y:363.633},"Head")),T||(T=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:828.5,y:363.633})),O||(O=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:35,x:832.5,y:363.633},"state")),P||(P=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:691,y:379.93},"and")),M||(M=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:717,y:379.93})),A||(A=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:73,x:721,y:379.93},"processes")),D||(D=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:794,y:379.93})),j||(j=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:47,x:798,y:379.93},"events"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/API/Server.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:210,x:1010,y:291.747}),B||(B=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:1072.5,y:312.885},"\xabcomponent\xbb")),_||(_=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:30,x:1067.5,y:330.567},"API")),I||(I=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:1097.5,y:330.567})),R||(R=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:59,x:1103.5,y:330.567},"Server")),q||(q=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1113,y:347.336})),J||(J=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:48,x:1022,y:363.633},"Handle")),U||(U=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1070,y:363.633})),X||(X=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:37,x:1074,y:363.633},"client")),Z||(Z=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1111,y:363.633})),$||($=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:77,x:1115,y:363.633},"commands")),G||(G=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1192,y:363.633})),K||(K=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:12,x:1196,y:363.633},"&")),Q||(Q=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:52,x:1020,y:379.93},"queries")),V||(V=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1072,y:379.93})),Y||(Y=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:1076,y:379.93},"and")),ee||(ee=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1102,y:379.93})),te||(te=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:46,x:1106,y:379.93},"serves")),ne||(ne=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1152,y:379.93})),ie||(ie=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:54,x:1156,y:379.93},"outputs"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:117.781,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:196,x:683,y:482.227}),ae||(ae=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:738.5,y:503.365},"\xabcomponent\xbb")),oe||(oe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:48,x:757,y:521.047},"Chain")),le||(le=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:779,y:537.816})),re||(re=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:80,x:701,y:554.113},"Connection")),se||(se=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:781,y:554.113})),fe||(fe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:785,y:554.113},"to")),xe||(xe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:799,y:554.113})),me||(me=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:58,x:803,y:554.113},"Cardano")),ce||(ce=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:58,x:693,y:570.409},"Observe")),he||(he=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:751,y:570.409})),ye||(ye=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:20,x:755,y:570.409},"txs")),de||(de=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:775,y:570.409})),ge||(ge=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:60,x:779,y:570.409},"on-chain")),pe||(pe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:839,y:570.409})),Fe||(Fe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:843,y:570.409},"and")),Se||(Se=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:31,x:728,y:586.706},"post")),Ee||(Ee=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:759,y:586.706})),ze||(ze=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:12,x:763,y:586.706},"tx")),Le||(Le=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:775,y:586.706})),ke||(ke=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:779,y:586.706},"to")),ue||(ue=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:793,y:586.706})),be||(be=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:37,x:797,y:586.706},"chain"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Chain/Direct/Wallet.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:197,x:324.5,y:490.377}),We||(We=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:380.5,y:511.515},"\xabcomponent\xbb")),ve||(ve=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55,x:395.5,y:529.197},"Wallet")),we||(we=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:421,y:545.966})),Ne||(Ne=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:76,x:337,y:562.263},"Embedded")),He||(He=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:413,y:562.263})),Ce||(Ce=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:41,x:417,y:562.263},"Wallet")),Te||(Te=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:458,y:562.263})),Oe||(Oe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:462,y:562.263},"to")),Pe||(Pe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:476,y:562.263})),Me||(Me=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:29,x:480,y:562.263},"sign")),Ae||(Ae=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:85,x:334.5,y:578.559},"transactions")),De||(De=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:419.5,y:578.559})),je||(je=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:26,x:423.5,y:578.559},"and")),Be||(Be=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:449.5,y:578.559})),_e||(_e=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:24,x:453.5,y:578.559},"pay")),Ie||(Ie=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:477.5,y:578.559})),Re||(Re=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:30,x:481.5,y:578.559},"fees"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Network.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:191,x:325.5,y:291.747}),qe||(qe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:378.5,y:312.885},"\xabcomponent\xbb")),Je||(Je=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:77,x:382.5,y:330.567},"Network")),Ue||(Ue=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:419,y:347.336})),Xe||(Xe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:63,x:335.5,y:363.633},"Manages")),Ze||(Ze=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:398.5,y:363.633})),$e||($e=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:86,x:402.5,y:363.633},"connections")),Ge||(Ge=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:488.5,y:363.633})),Ke||(Ke=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:492.5,y:363.633},"to")),Qe||(Qe=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:40,x:401,y:379.93},"peers"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:85.188,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:166,x:685,y:130.427}),Ve||(Ve=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:725.5,y:151.565},"\xabcomponent\xbb")),Ye||(Ye=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:69,x:733.5,y:169.247},"Logging")),et||(et=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:766,y:186.016})),tt||(tt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:42,x:695,y:202.313},"Dump")),nt||(nt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:737,y:202.313})),it||(it=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:33,x:741,y:202.313},"JSON")),at||(at=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:774,y:202.313})),ot||(ot=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:14,x:778,y:202.313},"to")),lt||(lt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:792,y:202.313})),rt||(rt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:45,x:796,y:202.313},"stdout"))),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/blob/master/hydra-node/src/Hydra/Logging/Monitoring.hs",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:101.484,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:168,x:886,y:122.277}),st||(st=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:927.5,y:143.416},"\xabcomponent\xbb")),ft||(ft=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:95,x:922.5,y:161.097},"Monitoring")),xt||(xt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:968,y:177.866})),mt||(mt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:59,x:896,y:194.163},"Exposes")),ct||(ct=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:955,y:194.163})),ht||(ht=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:85,x:959,y:194.163},"Prometheus")),yt||(yt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:51,x:944.5,y:210.459},"metrics"))),ci.createElement("rect",{fill:"#23AA12",height:85.188,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:178,x:914,y:498.527}),dt||(dt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:151,x:927.5,y:519.665},"\xabexternal\xbb\xabcomponent\xbb")),gt||(gt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73,x:932.5,y:537.347},"Cardano")),pt||(pt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:1005.5,y:537.347})),Ft||(Ft=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:62,x:1011.5,y:537.347},"Ledger")),St||(St=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1001,y:554.116})),Et||(Et=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:924,y:570.413},"Maintains")),zt||(zt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:989,y:570.413})),Lt||(Lt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:993,y:570.413},"Layer")),kt||(kt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1029,y:570.413})),ut||(ut=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:9,x:1033,y:570.413},"2")),bt||(bt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:1042,y:570.413})),Wt||(Wt=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:36,x:1046,y:570.413},"State")),ci.createElement("rect",{fill:"#438DD5",height:66.563,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:184,x:7,y:309.207}),vt||(vt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:62,y:330.346},"\xabcontainer\xbb")),wt||(wt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51,x:17,y:348.027},"Hydra")),Nt||(Nt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:68,y:348.027})),Ht||(Ht=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:74,y:348.027},"Node")),Ct||(Ct=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:120,y:348.027})),Tt||(Tt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55,x:126,y:348.027},"(peer)")),Ot||(Ot=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38,x:31.5,y:362.939},"[Local")),Pt||(Pt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:69.5,y:362.939})),Mt||(Mt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:93,x:73.5,y:362.939},"cardano-node]")),ci.createElement("rect",{fill:"#438DD5",height:66.563,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:150,x:466,y:728.917}),At||(At=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:504,y:750.056},"\xabcontainer\xbb")),Dt||(Dt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73,x:478.5,y:767.737},"Cardano")),jt||(jt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:551.5,y:767.737})),Bt||(Bt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:557.5,y:767.737},"Node")),_t||(_t=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38,x:476,y:782.649},"[Local")),It||(It=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:514,y:782.649})),Rt||(Rt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:88,x:518,y:782.649},"cadano-node]")),ci.createElement("rect",{fill:"#438DD5",height:66.563,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:206,x:62,y:507.837}),qt||(qt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:128,y:528.976},"\xabcontainer\xbb")),Jt||(Jt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:73,x:72,y:546.657},"Cardano")),Ut||(Ut=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:145,y:546.657})),Xt||(Xt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:46,x:151,y:546.657},"Node")),Zt||(Zt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:197,y:546.657})),$t||($t=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:55,x:203,y:546.657},"(peer)")),Gt||(Gt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:38,x:97.5,y:561.569},"[Local")),Kt||(Kt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:135.5,y:561.569})),Qt||(Qt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:93,x:139.5,y:561.569},"cardano-node]")),ci.createElement("rect",{fill:"#438DD5",height:52.594,rx:2.5,ry:2.5,style:{stroke:"#3c7fc0",strokeWidth:.5},width:127,x:1368.5,y:316.187}),Vt||(Vt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:74,x:1395,y:337.325},"\xabcontainer\xbb")),Yt||(Yt=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51,x:1378.5,y:355.007},"Hydra")),en||(en=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:1429.5,y:355.007})),tn||(tn=ci.createElement("text",{fill:"#FFF",fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:50,x:1435.5,y:355.007},"Client")),ci.createElement("a",{target:"_top",xlinkActuate:"onRequest",xlinkHref:"https://github.com/cardano-scaling/hydra/tree/master/hydra-plutus",xlinkShow:"new",xlinkTitle:"https://github.com/cardano-scaling/hydra/tree/master/hydra-plutus",xlinkType:"simple"},ci.createElement("rect",{fill:"#85BBF0",height:150.375,rx:2.5,ry:2.5,style:{stroke:"#78a8d8",strokeWidth:.5},width:208,x:677,y:687.007}),nn||(nn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:85,x:738.5,y:708.145},"\xabcomponent\xbb")),an||(an=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:51,x:726,y:725.827},"Hydra")),on||(on=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:6,x:777,y:725.827})),ln||(ln=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:53,x:783,y:725.827},"Smart")),rn||(rn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:16,fontWeight:"bold",textLength:88,x:737,y:744.452},"Contracts")),sn||(sn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:47,x:757.5,y:759.364},"[Plutus]")),fn||(fn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:779,y:775.189})),xn||(xn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:62,x:694,y:791.486},"On-chain")),mn||(mn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:756,y:791.486})),cn||(cn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:39,x:760,y:791.486},"smart")),hn||(hn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:799,y:791.486})),yn||(yn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:65,x:803,y:791.486},"contracts")),dn||(dn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:72,x:687,y:807.783},"controlling")),gn||(gn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:759,y:807.783})),pn||(pn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:23,x:763,y:807.783},"the")),Fn||(Fn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:786,y:807.783})),Sn||(Sn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:68,x:790,y:807.783},"behaviour")),En||(En=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:858,y:807.783})),zn||(zn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:13,x:862,y:807.783},"of")),Ln||(Ln=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:23,x:707,y:824.08},"the")),kn||(kn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:730,y:824.08})),un||(un=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:57,x:734,y:824.08},"protocol")),bn||(bn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:4,x:791,y:824.08})),Wn||(Wn=ci.createElement("text",{fontFamily:"sans-serif",fontSize:14,textLength:60,x:795,y:824.08},"on-chain"))),ci.createElement("path",{d:"M525.58 342.487H649.4",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m517.74 342.487 8 3v-6l-8 3zM657.17 342.487l-8-3v6l8-3z"}),vn||(vn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:42,x:535,y:322.625},"Hydra")),wn||(wn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:577,y:322.625})),Nn||(Nn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:59,x:581,y:322.625},"Protocol")),Hn||(Hn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:72,x:551.5,y:336.594},"Messages")),ci.createElement("path",{d:"M886.78 342.487h114.26",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m878.79 342.487 8 3v-6l-8 3zM1008.77 342.487l-8-3v6l8-3z"}),Cn||(Cn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:78,x:897.75,y:322.625},"ClientInput")),Tn||(Tn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:975.75,y:322.625})),On||(On=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:10,x:979.75,y:322.625},"&")),Pn||(Pn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:96,x:895.75,y:336.594},"ServerOutput")),ci.createElement("path",{d:"M771.89 402.347c1.48 22.36 3.17 47.99 4.7 71.03",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m771.31 394.617-2.465 8.18 5.987-.396-3.522-7.784zM777.16 481.067l2.465-8.18-5.987.396 3.522 7.784z"}),Mn||(Mn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:87,x:775,y:435.365},"Observation")),An||(An=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:862,y:435.365})),Dn||(Dn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:10,x:866,y:435.365},"&")),jn||(jn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:75,x:788,y:449.334},"OnChainTx")),ci.createElement("path",{d:"M845.92 393.667c13.35 9.41 26.85 19.48 39.08 29.56 25.52 21.04 51.85 46.69 73.15 68.59",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m963.31 497.187-3.397-7.84-4.317 4.167 7.714 3.673z"}),Bn||(Bn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:39,x:916,y:442.365},"Apply")),_n||(_n=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:955,y:442.365})),In||(In=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:15,x:959,y:442.365},"Tx")),ci.createElement("path",{d:"M530.68 541.117h151.87",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m522.77 541.117 8 3v-6l-8 3z"}),Rn||(Rn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:31,x:539.75,y:535.255},"Sign")),qn||(qn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:4,x:570.75,y:535.255})),Jn||(Jn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:90,x:574.75,y:535.255},"transactions")),ci.createElement("path",{d:"M781 600.257v77.7",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m781 685.647 3-8h-6l3 8z"}),Un||(Un=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontWeight:"bold",textLength:27,x:782,y:649.145},"Use")),ci.createElement("path",{d:"M708.45 606.347c-9.59 8.6-19.28 17.32-28.45 25.66-33.17 30.17-70.35 64.77-97.91 90.57",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m714.08 601.427-7.966 3.088 3.994 4.477 3.972-7.565zM576.65 727.607l7.89-3.279-4.101-4.38-3.789 7.659z"}),Xn||(Xn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:726.5,y:633.007},".")),Zn||(Zn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30,x:681,y:654.145},"[N2C")),$n||($n=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:711,y:654.145})),Gn||(Gn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:715,y:654.145},"protocol]")),ci.createElement("path",{d:"M228.56 579.157c69.29 40.37 179.53 104.6 248.84 144.98",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m221.89 574.687 5.402 6.62 3.02-5.185-8.422-1.435zM483.81 728.457l-5.396-6.625-3.025 5.182 8.421 1.443z"}),Kn||(Kn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:400,y:633.007},".")),Qn||(Qn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:31,x:354,y:654.145},"[N2N")),Vn||(Vn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:385,y:654.145})),Yn||(Yn=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:389,y:654.145},"protocol]")),ci.createElement("path",{d:"M112.74 384.417c11.31 33.72 27.28 81.28 38.58 114.94",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m109.9 376.957-.287 8.539 5.685-1.917-5.398-6.622zM154.09 506.607l.297-8.539-5.688 1.91 5.391 6.629z"}),ei||(ei=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:180.5,y:426.227},".")),ti||(ti=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:30,x:135,y:447.365},"[N2C")),ni||(ni=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:165,y:447.365})),ii||(ii=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:169,y:447.365},"protocol]")),ci.createElement("path",{d:"M200.22 342.487h115.99",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m192.27 342.487 8 3v-6l-8 3zM324.07 342.487l-8-3v6l8-3z"}),ai||(ai=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:258.25,y:301.487},".")),oi||(oi=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:42,x:209.25,y:322.625},"[Hydra")),li||(li=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:4,x:251.25,y:322.625})),ri||(ri=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:52,x:255.25,y:322.625},"Network")),si||(si=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:57,x:229.75,y:336.594},"protocol]")),ci.createElement("path",{d:"M1229.1 342.487h130.6",fill:"none",style:{stroke:"#666",strokeWidth:1}}),ci.createElement("path",{fill:"#666",style:{stroke:"#666",strokeWidth:1},d:"m1221.12 342.487 8 3v-6l-8 3zM1367.29 342.487l-8-3v6l8-3z"}),fi||(fi=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:0,textLength:0,x:1294.25,y:315.487},".")),xi||(xi=ci.createElement("text",{fill:"#666",fontFamily:"sans-serif",fontSize:12,fontStyle:"italic",textLength:112,x:1238.25,y:336.625},"[JSON/Websocket]")))},gi={},pi="Architecture",Fi={unversionedId:"dev/architecture/index",id:"dev/architecture/index",title:"Architecture",description:"This document describes the architecture of the current implementation",source:"@site/docs/dev/architecture/index.md",sourceDirName:"dev/architecture",slug:"/dev/architecture/",permalink:"/head-protocol/unstable/docs/dev/architecture/",draft:!1,editUrl:"https://github.com/cardano-scaling/hydra/tree/master/docs/docs/dev/architecture/index.md",tags:[],version:"current",frontMatter:{},sidebar:"developerDocumentation",previous:{title:"Commit funds to a Head",permalink:"/head-protocol/unstable/docs/dev/commit_to_a_Head"},next:{title:"Networking",permalink:"/head-protocol/unstable/docs/dev/architecture/networking"}},Si={},Ei=[{value:"Network",id:"network",level:3},{value:"Chain interaction",id:"chain-interaction",level:3},{value:"Chain",id:"chain",level:4},{value:"Wallet",id:"wallet",level:4},{value:"Head logic",id:"head-logic",level:3},{value:"Hydra smart contracts",id:"hydra-smart-contracts",level:3},{value:"API",id:"api",level:3},{value:"Persistence",id:"persistence",level:3},{value:"Logging",id:"logging",level:3},{value:"Monitoring",id:"monitoring",level:3}],zi={toc:Ei},Li="wrapper";function ki(e){let{components:t,...n}=e;return(0,hi.kt)(Li,(0,mi.Z)({},zi,n,{components:t,mdxType:"MDXLayout"}),(0,hi.kt)("h1",{id:"architecture"},"Architecture"),(0,hi.kt)("p",null,"This document describes the architecture of the current implementation\nof a ",(0,hi.kt)("inlineCode",{parentName:"p"},"hydra-node"),". The following diagram represents the main\ncomponents of a Hydra node using the ",(0,hi.kt)("a",{parentName:"p",href:"https://c4model.com/#ComponentDiagram"},"C4 Component\nDiagram")," notation."),(0,hi.kt)(di,{className:"architecture",mdxType:"ArchitectureSvg"}),(0,hi.kt)("admonition",{type:"info"},(0,hi.kt)("p",{parentName:"admonition"},"This diagram is manually produced using the ",(0,hi.kt)("a",{parentName:"p",href:"https://plantuml.com"},"PlantUML")," graphing tool with ",(0,hi.kt)("a",{parentName:"p",href:"https://github.com/plantuml-stdlib/C4-PlantUML"},"C4 extensions"),"."),(0,hi.kt)("pre",{parentName:"admonition"},(0,hi.kt)("code",{parentName:"pre"},"$ plantuml -Tsvg architecture-c4.puml\n"))),(0,hi.kt)("h3",{id:"network"},"Network"),(0,hi.kt)("p",null,"The ",(0,hi.kt)("em",{parentName:"p"},"network")," component is responsible for communication between Hydra nodes related to the off-chain part of the Hydra protocol. See ",(0,hi.kt)("a",{parentName:"p",href:"./networking"},"Networking")," for details."),(0,hi.kt)("h3",{id:"chain-interaction"},"Chain interaction"),(0,hi.kt)("h4",{id:"chain"},"Chain"),(0,hi.kt)("p",null,"The ",(0,hi.kt)("em",{parentName:"p"},"chain")," component interfaces the Hydra node with the Cardano (layer 1) chain. The current implementation, called ",(0,hi.kt)("inlineCode",{parentName:"p"},"Direct"),", uses the ",(0,hi.kt)("inlineCode",{parentName:"p"},"node-to-client")," protocol to both 'follow the chain' and observe new blocks and transactions that can change the state of the head. It also submits transactions in response to client requests or as needed to advance the protocol's state. This component connects to a locally spun ",(0,hi.kt)("inlineCode",{parentName:"p"},"cardano-node")," using the ",(0,hi.kt)("em",{parentName:"p"},"local socket")," and contains the ",(0,hi.kt)("em",{parentName:"p"},"off-chain")," logic, based on ",(0,hi.kt)("inlineCode",{parentName:"p"},"cardano-api"),", which knows how to observe and build transactions relevant to the Hydra protocol. For more details, see ",(0,hi.kt)("a",{parentName:"p",href:"/adr/10"},"ADR-10"),"."),(0,hi.kt)("h4",{id:"wallet"},"Wallet"),(0,hi.kt)("p",null,"The Hydra node maintains an internal wallet using the Cardano signing key provided to the ",(0,hi.kt)("inlineCode",{parentName:"p"},"hydra-node"),". This wallet is used to handle the payment of transaction fees and to sign transactions."),(0,hi.kt)("h3",{id:"head-logic"},"Head logic"),(0,hi.kt)("p",null,"This component is at the core of the Hydra node, implementing the protocol's ",(0,hi.kt)("em",{parentName:"p"},"state machine"),". It is structured around the concepts of ",(0,hi.kt)("inlineCode",{parentName:"p"},"Input"),"s and ",(0,hi.kt)("inlineCode",{parentName:"p"},"Effect"),"s. ",(0,hi.kt)("inlineCode",{parentName:"p"},"Input"),"s from the outside world are interpreted against the current state, potentially resulting in internal ",(0,hi.kt)("inlineCode",{parentName:"p"},"Event"),"s, which are aggregated into an updated state. This can then produce ",(0,hi.kt)("inlineCode",{parentName:"p"},"Effect"),"s, leading to 'side effects' on the outside world. The state available to the ",(0,hi.kt)("em",{parentName:"p"},"head logic")," consists of the head's content (eg, current ledger, pending transactions) ",(0,hi.kt)("em",{parentName:"p"},"and")," the data from layer 1 needed to observe and trigger on-chain transitions."),(0,hi.kt)("h3",{id:"hydra-smart-contracts"},"Hydra smart contracts"),(0,hi.kt)("p",null,"This component represents all the Hydra smart contracts needed for the Hydra Head protocol operation. Currently, the contracts are written using ",(0,hi.kt)("inlineCode",{parentName:"p"},"Plutus-Tx"),". The scripts are optimized using a custom ",(0,hi.kt)("inlineCode",{parentName:"p"},"ScriptContext")," and specific error codes."),(0,hi.kt)("h3",{id:"api"},"API"),(0,hi.kt)("p",null,"The ",(0,hi.kt)("inlineCode",{parentName:"p"},"hydra-node")," component exposes an ",(0,hi.kt)("a",{parentName:"p",href:"https://hydra.family/head-protocol/unstable/api-reference"},"asynchronous API")," through a WebSocket server. This API is available to the ",(0,hi.kt)("em",{parentName:"p"},"Hydra client")," for sending commands and observing changes in the state of the Hydra head. Upon startup, the API server loads all historical messages from the persistence layer and serves them to clients interested in observing them."),(0,hi.kt)("h3",{id:"persistence"},"Persistence"),(0,hi.kt)("p",null,"All API server outputs and the ",(0,hi.kt)("inlineCode",{parentName:"p"},"hydra-node")," state are preserved on disk. The persistence layer is responsible for loading historical messages and the Hydra state from disk, as well as storing them. Currently, there hasn't been a need to increase the complexity of this layer or use a database."),(0,hi.kt)("h3",{id:"logging"},"Logging"),(0,hi.kt)("p",null,"The Hydra node logs all internal side effects as JSON-formatted messages to its ",(0,hi.kt)("em",{parentName:"p"},"standard output")," stream. The log format adheres to a documented ",(0,hi.kt)("a",{parentName:"p",href:"https://raw.githubusercontent.com/input-output-hk/hydra/master/hydra-node/json-schemas/logs.yaml"},"JSON schema"),", following the principles outlined in ",(0,hi.kt)("a",{parentName:"p",href:"/adr/9"},"ADR-9"),"."),(0,hi.kt)("h3",{id:"monitoring"},"Monitoring"),(0,hi.kt)("p",null,"The Hydra node ",(0,hi.kt)("a",{parentName:"p",href:"https://hydra.family/head-protocol/docs/getting-started/quickstart#hydra-node-options"},"optionally")," exposes ",(0,hi.kt)("a",{parentName:"p",href:"https://prometheus.io/"},"Prometheus"),"-compliant ",(0,hi.kt)("em",{parentName:"p"},"metrics")," through an HTTP server, on the standard ",(0,hi.kt)("inlineCode",{parentName:"p"},"/metrics")," endpoint."))}ki.isMDXComponent=!0}}]);